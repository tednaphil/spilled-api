<div align="center">
  <img src="https://github.com/tednaphil/spilled/assets/76406423/ba29f256-b2a6-4df3-9ef5-6b18bb2ef822" alt="spilled logo" height="200px">

</div>

<!-- ### <p align="center">The API</p> -->

<!-- ## Summary: -->
<p align="center">This API Rails app manages tea and user data for the Spilled web application.</p>

### Background
This API was built retroactively to replace a deprecated API used during development. The API originally used provided two `GET` endpoints. This API includes additional endpoints to allow the client-side to be refactored to manage data generated by user interactions differently.

### Project Links
|Repo|Deployment|Description|
|:--:|:--:|:--:|
|[FE Repo](https://github.com/tednaphil/spilled)|[Spilled](https://spilled-seven.vercel.app/)| Browse teas and blends|
|[BE Repo](https://github.com/tednaphil/spilled-api)ðŸ“ | [Spilled API](spilled-api.onrender.com)| Tea and user data API|
|

## Local Setup Instructions:
- Run the following on the command line to clone the repo and navigate into the project directory
    ```
    git clone https://github.com/tednaphil/spilled-api.git
    cd spilled-api
    ```
- Install gems
    ```
    bundle install
    ```
- Setup the database
    ```
    rails db:{drop,create,migrate}
    ```
- Start the server locally - server will run at `http://localhost:3000`
    ```
    rails server
    ```
> - To stop the server, use `Ctrl` + `C` in the open terminal
<!-- * How to run the test suite -->

## Schema
<img width="738" alt="Screenshot 2024-07-16 at 12 30 25 PM" src="https://github.com/user-attachments/assets/5634ec57-9b73-4ca0-9838-f6dbed08850f">


## Endpoints
URL: `https://spilled-api.onrender.com`
| Method | Endpoint | Request Body | Sample Response |
--- | --- | --- | ---
`GET` | `/teas` | n/a | `[{id: 2, name: "Assam Tea", slug: "assam", style: "black",...}, ...]`
`GET` | `/teas/:id` | n/a | `{id: 2, name: "Assam Tea", slug: "assam", style: "black",...}`
`GET` | `/user_favs/:user_id` | n/a | `[{id: 1, user_id: 1, tea_id: 2}, ...]`
`POST` | `/user_favs/` | `{fav: {user_id: 1, tea_id: 5}}` | `{id: 2, user_id: 1, tea_id: 5}`
`DELETE` | `/user_favs/:fav_id` | n/a | n/a

